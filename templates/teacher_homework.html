{% extends "base.html" %}
{% block css %}
    <style>
        #searching {
            margin-top:20px;
            margin-bottom: 50px;
            font-size: 16px;
        }
    </style>
{% endblock %}

{% block nav %}
    <li><a name="test" href="/test/?rock=CCNAsec">实验中心</a></li>
    <li class="active">
        <a name="homework" href="/homework/">作业中心
        <img src="/static/imgs/arrow.png" style="display:block;margin-left:30px;margin-top:7px;margin-bottom:-30px;width:20px;height: 10px"/>
        </a>
    </li>
    <li><a href="#">预留板块</a></li>
    <li><a href="/admin/" target="_blank">后台管理</a></li>
    <li><a href="#">获取帮助</a></li>
{% endblock %}


{% block main %}
    <div class="col-sm-12 col-md-12 main">
    <div class="row">
        <h1 class="page-header pull-left">作业检查</h1>

    </div>
    <div class="row" id="searching">
        <form action="/homework/" method="get">
            <span>请选择学员： </span>
            <select name="username">
              <option value =''>-------------------------------------</option>
                {% for user in all_users %}
                  <option value ="{{ user.0 }}">[{{ user.0 }}]:{{ user.1 }}</option>
                {% endfor %}
            </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <span>请选择作业所属模块： </span>
            <select name="rock">
              <option value =''>-------------</option>
                {% for rock in all_rocks %}
                  <option value ="{{ rock.rock_name }}">{{ rock.rock_name }}</option>
                {% endfor %}
            </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <span>请选择第几次作业：&nbsp;&nbsp;&nbsp;</span>
            <select name="order">
                <option value =''>--------------</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
            </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button type="submit">&nbsp;&nbsp;go&nbsp;&nbsp;</button>
        </form>
    </div>
    <div class="row">
        <div class="table-responsive">
            <table class="table table-striped table-bordered">
                <colgroup>
                    <col style="width:4%">
                    <col style="width:7%">
                    <col style="width:6%">
                    <col style="width:23%">
                    <col style="width:23%">
                    <col style="width:23%">
                    <col style="width:6%">
                    <col style="width:8%">
                </colgroup>
                <thead>
                    <tr>
                      <th class="text-center">编号</th>
                      <th class="text-center">模块</th>
                      <th class="text-center">第几次</th>
                      <th class="text-center">作业文件</th>
                      <th class="text-center">上传时间</th>
                      <th class="text-center">批阅文件</th>
                      <th class="text-center">成绩</th>
                      <th class="text-center">操作</th>
                    </tr>
                </thead>
                <tbody class="text-center">

                {% for homework in homeworks %}
                            <tr>
                                <td>{{ forloop.counter }}</td>
                                <td>{{ homework.rock.rock_name }}</td>
                                <td>{{ homework.order }}</td>
                                <td>{{ homework.rock.rock_name }}-day{{ homework.order }}-{{ request.session.username }}</td>
                                <td>{{ homework.upload_time|date:"Y-m-d H:i" }}</td>
                                <td>{{ homework.check_path }}</td>
                                <td>{{ homework.score }}</td>
                                <td>
                                    <span class="glyphicon glyphicon-upload" aria-hidden="true"></span>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
                                </td>
                            </tr>
                {% endfor %}


                </tbody>
            </table>
        </div>
    </div>
    </div>
{% endblock %}

{% block spt %}
    <script>

    function upload() {
        window.location.href = "/homework/file/"
    }
    </script>
{% endblock %}